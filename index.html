<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Generate Boolean search queries for social media platforms" />
<title>Pulsar Boolean Generator</title>
<style>
  :root {
    --orange: #DC6844;
    --blue: #4460F1;
    --blue-hover: #2e49c0;
    --green: #28a745;
    --red: #dc3545;
    --gray-bg: #f5f5f5;
    --shadow: 0 6px 16px rgba(0, 0, 0, 0.05);
    --border-radius: 8px;
    --transition: all 0.2s ease-in-out;
  }
  
  body {
    margin: 0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background: var(--gray-bg);
    color: #333;
    line-height: 1.6;
  }
  
  header {
    background: var(--orange);
    padding: 1.5rem 2rem;
    text-align: center;
    color: white;
    font-size: 1.8rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .container {
    max-width: 900px;
    margin: 2rem auto;
    background: white;
    border-radius: var(--border-radius);
    padding: 2.5rem 2rem;
    box-shadow: var(--shadow);
  }
  
  .form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
  }
  
  .form-group {
    display: flex;
    flex-direction: column;
    margin-bottom: 1rem;
  }
  
  .operator-group {
    display: flex;
    align-items: center;
    margin-top: 0.5rem;
    gap: 1rem;
  }
  
  .operator-label {
    font-weight: 600;
    font-size: 0.9rem;
  }
  
  .radio-group {
    display: flex;
    gap: 1rem;
  }
  
  .radio-label {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    cursor: pointer;
    font-weight: normal;
  }
  
  label {
    font-weight: 600;
    margin-bottom: 0.5rem;
  }
  
  input, select, textarea {
    padding: 0.75rem;
    border: 1px solid #ccc;
    border-radius: var(--border-radius);
    font-size: 1rem;
    width: 100%;
    transition: var(--transition);
    box-sizing: border-box;
  }
  
  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: var(--blue);
    box-shadow: 0 0 0 3px rgba(68, 96, 241, 0.2);
  }
  
  textarea {
    font-family: 'Courier New', monospace;
    margin-top: 1.5rem;
    min-height: 180px;
    resize: vertical;
    line-height: 1.4;
  }
  
  .platform-checkboxes {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 0.5rem;
  }
  
  .platform-checkboxes label {
    font-weight: normal;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    cursor: pointer;
  }
  
  .button-row {
    display: flex;
    justify-content: flex-start;
    gap: 1rem;
    margin-top: 2rem;
    margin-bottom: 1.5rem;
  }
  
  button {
    background: var(--blue);
    color: white;
    padding: 0.8rem 1.4rem;
    font-size: 1rem;
    border: none;
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  button:hover {
    background: var(--blue-hover);
    transform: translateY(-2px);
  }
  
  button:active {
    transform: translateY(0);
  }
  
  button.copy-btn {
    background: var(--green);
  }
  
  button.copy-btn:hover {
    background: #218838;
  }
  
  button.clear-btn {
    background: #6c757d;
  }
  
  button.clear-btn:hover {
    background: #5a6268;
  }
  
  .notification {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 20px;
    background: var(--green);
    color: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    transform: translateY(100px);
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 1000;
  }
  
  .notification.show {
    transform: translateY(0);
    opacity: 1;
  }
  
  .notification.error {
    background: var(--red);
  }
  
  .char-counter {
    font-size: 0.8rem;
    color: #666;
    text-align: right;
    margin-top: 0.25rem;
  }
  
  .char-counter.warning {
    color: var(--orange);
  }
  
  .char-counter.error {
    color: var(--red);
  }
  
  .help-text {
    font-size: 0.85rem;
    color: #666;
    margin-top: 0.25rem;
  }
  
  .section-divider {
    border-top: 1px solid #eee;
    margin: 2rem 0;
  }
  
  .section-title {
    font-weight: 600;
    font-size: 1.1rem;
    margin-bottom: 1rem;
    color: var(--blue);
  }
  
  .connector-section {
    background-color: #f8f9fa;
    border-radius: var(--border-radius);
    padding: 1rem;
    margin: 1rem 0;
    border: 1px solid #e9ecef;
  }
  
  .connector-title {
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: #495057;
  }
  
  .connector-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
  }
  
  .connector-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .connector-item label {
    margin-bottom: 0;
    font-weight: normal;
  }
  
  .input-focus {
    border: 2px solid var(--blue);
  }
  
  @media (max-width: 768px) {
    .form-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    .button-row {
      flex-direction: column;
      align-items: stretch;
    }
    
    .container {
      margin: 1rem;
      padding: 1.5rem 1rem;
    }
    
    .connector-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>
<header>Pulsar Boolean Generator</header>

  
<div class="container">
  <div class="section-title">Search Terms</div>
  <div class="form-grid">
    <div class="form-group">
      <label for="brands">Brands</label>
      <input id="brands" placeholder="e.g. Dove, Cerave" aria-describedby="brands-help" />
      <div id="brands-help" class="help-text">Brand names to include in search</div>
      <div class="operator-group">
        <span class="operator-label">Operator:</span>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="brands-operator" value="OR" checked> OR
          </label>
          <label class="radio-label">
            <input type="radio" name="brands-operator" value="AND"> AND
          </label>
        </div>
      </div>
    </div>
  </div>
      <div class="form-group">
      <label for="keywords">Keywords (comma separated)</label>
      <input id="keywords" placeholder="e.g. skincare, beauty, makeup" aria-describedby="keywords-help" />
      <div id="keywords-help" class="help-text">Main topics or terms to search for</div>
      <div class="operator-group">
        <span class="operator-label">Operator:</span>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="keywords-operator" value="OR" checked> OR
          </label>
          <label class="radio-label">
            <input type="radio" name="keywords-operator" value="AND"> AND
          </label>
        </div>
      </div>
    </div>
  <!-- Connector between Keywords and Brands -->
  <div class="connector-section">
    <div class="connector-title">Connect Keywords with Brands:</div>
    <div class="connector-grid">
      <div class="connector-item">
        <input type="radio" id="keywords-brands-and" name="keywords-brands-connector" value="AND">
        <label for="keywords-brands-and">AND</label>
      </div>
      <div class="connector-item">
        <input type="radio" id="keywords-brands-or" name="keywords-brands-connector" value="OR" checked>
        <label for="keywords-brands-or">OR</label>
      </div>
    </div>
  </div>
  
  <div class="form-grid">
    <div class="form-group">
      <label for="handles">Handles</label>
      <input id="handles" placeholder="e.g. @dove, @cerave" aria-describedby="handles-help" />
      <div id="handles-help" class="help-text">Social media handles (with or without @)</div>
      <div class="operator-group">
        <span class="operator-label">Operator:</span>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="handles-operator" value="OR" checked> OR
          </label>
          <label class="radio-label">
            <input type="radio" name="handles-operator" value="AND"> AND
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="hashtags">Hashtags</label>
      <input id="hashtags" placeholder="e.g. skincare, grwm" aria-describedby="hashtags-help" />
      <div id="hashtags-help" class="help-text">Hashtags (without the # symbol)</div>
      <div class="operator-group">
        <span class="operator-label">Operator:</span>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="hashtags-operator" value="OR" checked> OR
          </label>
          <label class="radio-label">
            <input type="radio" name="hashtags-operator" value="AND"> AND
          </label>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Connectors between term groups -->
  <div class="connector-section">
    <div class="connector-title">Connect Terms:</div>
    <div class="connector-grid">
      <div class="connector-item">
        <input type="radio" id="brands-handles-and" name="brands-handles-connector" value="AND">
        <label for="brands-handles-and">Brands AND Handles</label>
      </div>
      <div class="connector-item">
        <input type="radio" id="brands-handles-or" name="brands-handles-connector" value="OR" checked>
        <label for="brands-handles-or">Brands OR Handles</label>
      </div>
      <div class="connector-item">
        <input type="radio" id="terms-hashtags-and" name="terms-hashtags-connector" value="AND">
        <label for="terms-hashtags-and">Terms AND Hashtags</label>
      </div>
      <div class="connector-item">
        <input type="radio" id="terms-hashtags-or" name="terms-hashtags-connector" value="OR" checked>
        <label for="terms-hashtags-or">Terms OR Hashtags</label>
      </div>
    </div>
  </div>
  
  <div class="section-divider"></div>
  <div class="section-title">Filters & Platforms</div>
  
  <div class="form-grid">
    <div class="form-group">
      <label>Platforms</label>
      <div class="platform-checkboxes">
        <label><input type="checkbox" name="platform" value="TIKTOK" /> TikTok</label>
        <label><input type="checkbox" name="platform" value="INSTAGRAM" /> Instagram</label>
        <label><input type="checkbox" name="platform" value="YOUTUBE" /> YouTube</label>
        <label><input type="checkbox" name="platform" value="PINTEREST" /> Pinterest</label>
        <label><input type="checkbox" name="platform" value="THREADS" /> Threads</label>
        <label><input type="checkbox" name="platform" value="FACEBOOK" /> Facebook</label>
        <label><input type="checkbox" name="platform" value="TWITTER" /> Twitter</label>
      </div>
    </div>
    <div class="form-group">
      <label for="countries">Countries (comma separated)</label>
      <input id="countries" placeholder="e.g. GB, US" aria-describedby="countries-help" />
      <div id="countries-help" class="help-text">Country codes (ISO 3166-1 alpha-2)</div>
      <div class="operator-group">
        <span class="operator-label">Operator:</span>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="countries-operator" value="OR" checked> OR
          </label>
          <label class="radio-label">
            <input type="radio" name="countries-operator" value="AND"> AND
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="language">Language</label>
      <select id="language">
        <option value="">-- Select language --</option>
        <option value="en">English</option>
        <option value="es">Spanish</option>
        <option value="fr">French</option>
        <option value="de">German</option>
        <option value="it">Italian</option>
        <option value="pt">Portuguese</option>
        <option value="ja">Japanese</option>
        <option value="ko">Korean</option>
        <option value="zh">Chinese</option>
      </select>
    </div>
    <div class="form-group">
      <label for="exclusions">Exclusions (comma separated)</label>
      <input id="exclusions" placeholder="e.g. retweet, reply" aria-describedby="exclusions-help" />
      <div id="exclusions-help" class="help-text">Terms to exclude from results</div>
      <div class="operator-group">
        <span class="operator-label">Operator:</span>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="exclusions-operator" value="OR" checked> OR
          </label>
          <label class="radio-label">
            <input type="radio" name="exclusions-operator" value="AND"> AND
          </label>
        </div>
      </div>
    </div>
  </div>
  
  <div class="section-divider"></div>

  <div class="button-row">
    <button id="generate-btn" type="button" aria-label="Generate Boolean">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      Generate Boolean
    </button>
    <button id="copy-btn" class="copy-btn" type="button" aria-label="Copy to clipboard">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13 5H7C5.89543 5 5 5.89543 5 7V13C5 14.1046 5.89543 15 7 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5Z" stroke="currentColor" stroke-width="2"/>
        <path d="M3 11V3C3 1.89543 3.89543 1 5 1H11" stroke="currentColor" stroke-width="2"/>
      </svg>
      Copy to Clipboard
    </button>
    <button id="clear-btn" class="clear-btn" type="button" aria-label="Clear all fields">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 4H14M5 4V2H11V4M6 4V12H10V4M12 4V12C12 13.1046 11.1046 14 10 14H6C4.89543 14 4 13.1046 4 12V4" stroke="currentColor" stroke-width="2"/>
      </svg>
      Clear All
    </button>
  </div>

  <div class="form-group">
    <label for="output">Generated Boolean</label>
    <textarea id="output" placeholder="Your Boolean will appear here..." readonly aria-live="polite"></textarea>
    <div id="char-counter" class="char-counter">0 characters</div>
  </div>
</div>

<div id="notification" class="notification" role="alert" aria-live="assertive"></div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Cache DOM elements
    const generateBtn = document.getElementById('generate-btn');
    const copyBtn = document.getElementById('copy-btn');
    const clearBtn = document.getElementById('clear-btn');
    const outputField = document.getElementById('output');
    const notification = document.getElementById('notification');
    const charCounter = document.getElementById('char-counter');
    
    // Form fields
    const formFields = {
      keywords: document.getElementById('keywords'),
      brands: document.getElementById('brands'),
      handles: document.getElementById('handles'),
      hashtags: document.getElementById('hashtags'),
      countries: document.getElementById('countries'),
      language: document.getElementById('language'),
      exclusions: document.getElementById('exclusions')
    };
    
    // Event listeners
    generateBtn.addEventListener('click', generateBoolean);
    copyBtn.addEventListener('click', copyBoolean);
    clearBtn.addEventListener('click', clearAll);
    outputField.addEventListener('input', updateCharCount);
    
    // Add input listeners to all text fields for character counting
    Object.values(formFields).forEach(field => {
      if (field.tagName === 'INPUT') {
        field.addEventListener('input', () => {
          validateInput(field);
        });
      }
    });
    
    // Initialize
    updateCharCount();
    
    // Try to load saved data
    loadSavedData();
    
    // Helper functions
    function getInput(id) {
      const value = document.getElementById(id).value.trim();
      if (!value) return [];
      
      return value
        .split(',')
        .map(x => x.trim())
        .filter(Boolean);
    }
    
    function getOperator(name) {
      return document.querySelector(`input[name="${name}-operator"]:checked`).value;
    }
    
    function getConnector(name) {
      return document.querySelector(`input[name="${name}-connector"]:checked`).value;
    }

    function getPlatforms() {
      return Array.from(document.querySelectorAll('input[name="platform"]:checked'))
        .map(cb => cb.value);
    }

    function joinWithOperator(arr, operator) {
      return arr.map(w => `"${w.replace(/"/g, '\\"')}"`).join(` ${operator} `);
    }

    function hashtagJoin(arr, operator) {
      return arr.map(h => {
        // Remove # if it's already there
        const tag = h.startsWith('#') ? h.substring(1) : h;
        return `#${tag}`;
      }).join(` ${operator} `);
    }

    function handleWrap(arr) {
      return arr.map(h => {
        // Add @ if it's not already there
        return h.startsWith('@') ? h : `@${h}`;
      });
    }

    function generateBoolean() {
      try {
        // Get all input values
        const keywords = getInput('keywords');
        const brands = getInput('brands');
        const handles = getInput('handles').map(h => h.startsWith('@') ? h : `@${h}`);
        const hashtags = getInput('hashtags');
        const platforms = getPlatforms();
        const countries = getInput('countries');
        const language = document.getElementById('language').value;
        const exclusions = getInput('exclusions');
        
        // Get operators within groups
        const keywordsOp = getOperator('keywords');
        const brandsOp = getOperator('brands');
        const handlesOp = getOperator('handles');
        const hashtagsOp = getOperator('hashtags');
        const countriesOp = getOperator('countries');
        const exclusionsOp = getOperator('exclusions');
        
        // Get connectors between groups
        const keywordsBrandsConnector = getConnector('keywords-brands');
        const brandsHandlesConnector = getConnector('brands-handles');
        const termsHashtagsConnector = getConnector('terms-hashtags');

        // Validate inputs
        if (platforms.length === 0) {
          showNotification('Please select at least one platform', 'error');
          return;
        }

        if (keywords.length === 0 && brands.length === 0 && handles.length === 0 && hashtags.length === 0) {
          showNotification('Please enter at least one search term (keyword, brand, handle, or hashtag)', 'error');
          return;
        }

        // Create blocks with appropriate operators
        const keywordsBlock = keywords.length ? `(${joinWithOperator(keywords, keywordsOp)})` : '';
        const brandsBlock = brands.length ? `(${joinWithOperator(brands, brandsOp)})` : '';
        const handlesBlock = handles.length ? `(${joinWithOperator(handles, handlesOp)})` : '';
        const hashtagBlock = hashtags.length ? `(${hashtagJoin(hashtags, hashtagsOp)})` : '';

        // Location and language blocks
        const locationBlock = countries.length ? 
          `(location:${countries.join(` ${countriesOp} location:`)})` : '';
        const langBlock = language ? `lang:${language}` : '';
        
        // Exclusion block
        const exclusionBlock = exclusions.length ? 
          `AND NOT (${joinWithOperator(exclusions, exclusionsOp)})` : '';
        
        const filterParts = [locationBlock, langBlock].filter(Boolean);
        const filterBlock = filterParts.length ? `AND ${filterParts.join(' AND ')}` : '';
        const tail = `${filterBlock} ${exclusionBlock}`.trim();

        const blocks = [];

        platforms.forEach(platform => {
          const upper = platform.toUpperCase();
          const isSpecial = ["TIKTOK", "PINTEREST", "THREADS"].includes(upper);
          
          // Build the search query with proper connectors between term groups
          let searchQuery = '';
          
          // First, combine keywords and brands if both exist
          if (keywords.length && brands.length) {
            searchQuery = `${keywordsBlock} ${keywordsBrandsConnector} ${brandsBlock}`;
          } else if (keywords.length) {
            searchQuery = keywordsBlock;
          } else if (brands.length) {
            searchQuery = brandsBlock;
          }
          
          // Add handles with appropriate connector
          if (handles.length) {
            if (searchQuery) {
              searchQuery = `(${searchQuery}) ${brandsHandlesConnector} ${handlesBlock}`;
            } else {
              searchQuery = handlesBlock;
            }
          }
          
          // Create the terms block (keywords + brands + handles)
          const termsBlock = searchQuery ? `(${searchQuery})` : '';
          
          // Build the final query with hashtags
          let finalQuery = '';
          if (termsBlock && hashtags.length) {
            finalQuery = `${termsBlock} ${termsHashtagsConnector} ${hashtagBlock}`;
          } else if (termsBlock) {
            finalQuery = termsBlock;
          } else if (hashtags.length) {
            finalQuery = hashtagBlock;
          }
          
          // Apply platform-specific prefixes
          if (finalQuery) {
            const prefix = isSpecial ? `${upper}.text:` : `${upper}:`;
            
            // Special handling for hashtags on special platforms
            if (isSpecial && hashtags.length) {
              // Split the query to handle hashtags separately for special platforms
              let termsOnlyQuery = '';
              if (keywords.length || brands.length || handles.length) {
                const termsParts = [];
                if (keywords.length) termsParts.push(keywordsBlock);
                if (brands.length) termsParts.push(brandsBlock);
                if (handles.length) termsParts.push(handlesBlock);
                
                // Connect the terms with appropriate operators
                if (termsParts.length > 1) {
                  // Use the connectors between term groups
                  if (keywords.length && brands.length && handles.length) {
                    termsOnlyQuery = `(${termsParts[0]} ${keywordsBrandsConnector} ${termsParts[1]}) ${brandsHandlesConnector} ${termsParts[2]}`;
                  } else if (keywords.length && brands.length) {
                    termsOnlyQuery = `${termsParts[0]} ${keywordsBrandsConnector} ${termsParts[1]}`;
                  } else if (brands.length && handles.length) {
                    termsOnlyQuery = `${termsParts[0]} ${brandsHandlesConnector} ${termsParts[1]}`;
                  } else {
                    termsOnlyQuery = termsParts.join(' OR ');
                  }
                } else {
                  termsOnlyQuery = termsParts[0];
                }
              }
              
              // Build the platform-specific query
              const textQuery = termsOnlyQuery ? `${upper}.text:(${termsOnlyQuery})` : '';
              const hashtagQuery = `${upper}.hashtags:${hashtagBlock}`;
              
              if (textQuery && hashtagQuery) {
                finalQuery = `(${textQuery} ${termsHashtagsConnector} ${hashtagQuery})`;
              } else if (textQuery) {
                finalQuery = textQuery;
              } else {
                finalQuery = hashtagQuery;
              }
            } else {
              // For non-special platforms or when there are no hashtags
              finalQuery = `${prefix}(${finalQuery})`;
            }
            
            // Add the tail (filters and exclusions)
            const platformBlock = `${finalQuery} ${tail}`.trim();
            blocks.push(platformBlock);
          }
        });

        outputField.value = blocks.join('\n\n');
        updateCharCount();
        saveFormData();
        showNotification('Boolean generated successfully!');
      } catch (error) {
        console.error('Error generating boolean:', error);
        showNotification('Error generating boolean. Please check your inputs.', 'error');
      }
    }

    function copyBoolean() {
      if (!outputField.value.trim()) {
        showNotification('Nothing to copy. Generate a Boolean first.', 'error');
        return;
      }
      
      // Use modern clipboard API if available
      if (navigator.clipboard) {
        navigator.clipboard.writeText(outputField.value)
          .then(() => {
            showNotification('✅ Boolean copied to clipboard');
          })
          .catch(err => {
            console.error('Failed to copy: ', err);
            fallbackCopy();
          });
      } else {
        fallbackCopy();
      }
    }
    
    function fallbackCopy() {
      outputField.select();
      outputField.setSelectionRange(0, 99999);
      try {
        document.execCommand('copy');
        showNotification('✅ Boolean copied to clipboard');
      } catch (err) {
        showNotification('Failed to copy. Please select and copy manually.', 'error');
      }
    }
    
    function clearAll() {
      // Clear all input fields
      Object.values(formFields).forEach(field => {
        field.value = '';
      });
      
      // Reset radio buttons to OR
      document.querySelectorAll('input[type="radio"][value="OR"]').forEach(radio => {
        radio.checked = true;
      });
      
      // Uncheck all checkboxes
      document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
        cb.checked = false;
      });
      
      // Clear output
      outputField.value = '';
      updateCharCount();
      
      // Clear localStorage
      localStorage.removeItem('pulsarBooleanData');
      
      showNotification('All fields cleared');
    }
    
    function validateInput(field) {
      // Basic validation for now - could be expanded
      if (field.value.length > 500) {
        field.value = field.value.substring(0, 500);
        showNotification(`Input limited to 500 characters`, 'error');
      }
    }
    
    function updateCharCount() {
      const count = outputField.value.length;
      charCounter.textContent = `${count} characters`;
      
      // Add warning classes based on character count
      charCounter.classList.remove('warning')
      charCounter.classList.remove('warning', 'error');
      if (count > 9000) {
        charCounter.classList.add('error');
      } else if (count > 7000) {
        charCounter.classList.add('warning');
      }
    }

    function showNotification(message, type = '') {
      notification.textContent = message;
      notification.classList.remove('show', 'error');
      if (type === 'error') notification.classList.add('error');
      notification.classList.add('show');
      setTimeout(() => notification.classList.remove('show'), 3000);
    }

    function saveFormData() {
      const data = {};
      Object.entries(formFields).forEach(([key, field]) => {
        data[key] = field.value;
      });
      localStorage.setItem('pulsarBooleanData', JSON.stringify(data));
    }

    function loadSavedData() {
      const saved = localStorage.getItem('pulsarBooleanData');
      if (!saved) return;
      const data = JSON.parse(saved);
      Object.entries(data).forEach(([key, value]) => {
        if (formFields[key]) {
          formFields[key].value = value;
        }
      });
    }
  });
</script>
</body>
</html>
